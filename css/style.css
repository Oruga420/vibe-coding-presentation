/* =============================================
   THE OBSIDIAN MONOLITH — Design System
   ============================================= */

/* ── Tokens ── */
:root {
    --void: #050505;
    --surface: rgba(255, 255, 255, 0.03);
    --surface-hover: rgba(255, 255, 255, 0.06);
    --border: rgba(255, 255, 255, 0.08);
    --border-hover: rgba(255, 255, 255, 0.14);
    --text: #ffffff;
    --text-secondary: #a1a1aa;
    --text-muted: rgba(255, 255, 255, 0.25);
    --accent: #6366f1;
    --accent-glow: rgba(99, 102, 241, 0.35);
    --accent-teal: #2dd4bf;
    --font: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
    --tracking-tight: -0.03em;
    --tracking-tighter: -0.05em;
    --leading-relaxed: 1.65;
    --ease: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-back: cubic-bezier(0.34, 1.56, 0.64, 1);
    --sidebar-w: 48px;
}

/* ── Reset ── */
*,
*::before,
*::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box
}

html,
body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: var(--void);
    color: var(--text);
    font-family: var(--font);
    font-size: 16px;
    line-height: var(--leading-relaxed);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale
}

::selection {
    background: var(--accent);
    color: #fff
}

a {
    color: inherit;
    text-decoration: none
}

ol,
ul {
    list-style: none
}

button {
    font: inherit;
    cursor: pointer;
    border: none;
    background: none;
    color: inherit
}

/* ── Three.js Canvas ── */
#three-canvas {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none
}

/* ── Sidebar ── */
.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    width: var(--sidebar-w);
    height: 100%;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center
}

.sidebar__progress {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    height: 50%;
    display: flex;
    flex-direction: column;
    align-items: center
}

.sidebar__line {
    position: absolute;
    width: 1px;
    height: 100%;
    background: var(--border)
}

.sidebar__line-fill {
    position: absolute;
    top: 0;
    width: 1px;
    height: 0%;
    background: var(--accent);
    transition: height .7s var(--ease);
    box-shadow: 0 0 8px var(--accent-glow)
}

.sidebar__dots {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 18px;
    z-index: 1
}

.sidebar__dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    border: 1px solid var(--text-muted);
    background: transparent;
    transition: all .4s var(--ease);
    cursor: pointer;
    position: relative
}

.sidebar__dot:hover {
    border-color: var(--text-secondary);
    transform: scale(1.3)
}

.sidebar__dot.active {
    border-color: var(--accent);
    background: var(--accent);
    box-shadow: 0 0 10px var(--accent-glow)
}

/* Dot tooltip */
.sidebar__dot-tip {
    position: absolute;
    left: 22px;
    top: 50%;
    transform: translateY(-50%) translateX(-4px);
    white-space: nowrap;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: .04em;
    color: var(--text-secondary);
    background: rgba(5, 5, 5, .9);
    border: 1px solid var(--border);
    padding: 4px 10px;
    border-radius: 4px;
    opacity: 0;
    pointer-events: none;
    transition: all .3s var(--ease)
}

.sidebar__dot:hover .sidebar__dot-tip {
    opacity: 1;
    transform: translateY(-50%) translateX(0)
}

/* ── Deck / Track ── */
.deck {
    position: fixed;
    top: 0;
    left: var(--sidebar-w);
    width: calc(100% - var(--sidebar-w));
    height: 100%;
    z-index: 1;
    overflow: hidden
}

.deck__track {
    display: flex;
    height: 100%;
    will-change: transform
}

/* ── Slide Base ── */
.slide {
    min-width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: clamp(2rem, 5vw, 6rem);
    position: relative
}

.slide__inner {
    width: 100%;
    max-width: 1100px;
    margin: 0 auto
}

/* ── Slide Layouts ── */
.slide--center {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    gap: 1.2rem
}

.slide--split {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: clamp(2rem, 6vw, 6rem);
    align-items: center
}

.slide--list {
    display: flex;
    flex-direction: column;
    gap: 2rem
}

.slide--bento {
    display: flex;
    flex-direction: column;
    gap: 1.5rem
}

/* ── Typography ── */
.slide__label {
    font-size: .7rem;
    font-weight: 600;
    letter-spacing: .15em;
    text-transform: uppercase;
    color: var(--text-muted)
}

.slide__label--glow {
    color: var(--accent);
    text-shadow: 0 0 20px var(--accent-glow)
}

.slide__hero-title {
    font-size: clamp(3rem, 8vw, 7rem);
    font-weight: 900;
    letter-spacing: var(--tracking-tighter);
    line-height: .95
}

.slide__hero-title--glow {
    text-shadow: 0 0 60px var(--accent-glow), 0 0 120px rgba(99, 102, 241, .15)
}

.slide__heading {
    font-size: clamp(2rem, 4.5vw, 3.5rem);
    font-weight: 800;
    letter-spacing: var(--tracking-tight);
    line-height: 1.05
}

.slide__heading--compact {
    margin-bottom: .5rem
}

.slide__heading--cyber {
    text-shadow: 0 0 40px var(--accent-glow), 0 0 80px rgba(99, 102, 241, .12);
    letter-spacing: var(--tracking-tighter)
}

.slide__hero-sub {
    font-size: clamp(1rem, 2vw, 1.4rem);
    font-weight: 300;
    color: var(--text-secondary);
    letter-spacing: .01em
}

.slide__hero-sub--bright {
    color: var(--accent-teal)
}

.slide__body {
    font-size: clamp(.9rem, 1.2vw, 1.05rem);
    font-weight: 300;
    color: var(--text-secondary);
    line-height: var(--leading-relaxed);
    max-width: 420px
}

.slide__body--center {
    text-align: center;
    max-width: none;
    color: var(--text-muted);
    font-size: .95rem;
    letter-spacing: .02em
}

/* ── Footer ── */
.slide__footer {
    display: flex;
    align-items: center;
    gap: .6rem;
    font-size: .8rem;
    font-weight: 400;
    color: var(--text-muted);
    margin-top: 1.5rem
}

.slide__footer-sep {
    opacity: .4
}

.slide__footer--links {
    gap: 1.5rem;
    margin-top: 2rem
}

.slide__link {
    font-size: .85rem;
    font-weight: 500;
    color: var(--text-secondary);
    border-bottom: 1px solid var(--border);
    padding-bottom: 2px;
    transition: all .3s var(--ease)
}

.slide__link:hover {
    color: var(--accent);
    border-color: var(--accent)
}

/* ── Slide 2: Morph Visual ── */
.slide__visual-morph {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: clamp(1.5rem, 3vw, 3rem)
}

.morph__icon {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: .8rem
}

.morph__icon svg {
    width: clamp(60px, 8vw, 80px);
    height: clamp(60px, 8vw, 80px)
}

.morph__icon--factory {
    color: var(--text-muted)
}

.morph__icon--knife {
    color: var(--text)
}

.morph__label {
    font-size: .65rem;
    font-weight: 600;
    letter-spacing: .2em;
    color: var(--text-muted)
}

.morph__label--accent {
    color: var(--accent-teal)
}

.morph__arrow {
    color: var(--text-muted);
    opacity: .5
}

.morph__arrow svg {
    width: 40px;
    height: 24px
}

/* ── Slide 3: Stack List ── */
.stack-list {
    display: flex;
    flex-direction: column;
    gap: 0
}

.stack-list__item {
    display: flex;
    align-items: flex-start;
    gap: 1.5rem;
    padding: 1.2rem 0;
    border-bottom: 1px solid var(--border)
}

.stack-list__item:last-child {
    border: none
}

.stack-list__num {
    font-size: .7rem;
    font-weight: 700;
    color: var(--text-muted);
    letter-spacing: .1em;
    min-width: 24px;
    padding-top: 3px
}

.stack-list__content h3 {
    font-size: 1.05rem;
    font-weight: 700;
    letter-spacing: var(--tracking-tight);
    margin-bottom: .15rem
}

.stack-list__content p {
    font-size: .85rem;
    font-weight: 300;
    color: var(--text-secondary)
}

/* ── Slide 4: Bento Grid ── */
.bento {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: auto auto;
    gap: 12px
}

.bento__card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    transition: all .4s var(--ease);
    cursor: default;
    overflow: hidden;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px)
}

.bento__card:hover {
    border-color: var(--border-hover);
    background: var(--surface-hover);
    transform: translateY(-2px);
    box-shadow: 0 8px 40px rgba(0, 0, 0, .4)
}

.bento__card--lg {
    grid-column: span 2;
    grid-row: span 2
}

.bento__card--md {
    grid-column: span 2
}

.bento__card--sm {
    grid-column: span 4
}

.bento__card-inner {
    padding: clamp(1.2rem, 2.5vw, 2rem)
}

.bento__name {
    font-size: clamp(.95rem, 1.5vw, 1.15rem);
    font-weight: 700;
    letter-spacing: var(--tracking-tight);
    margin-bottom: .4rem
}

.bento__desc {
    font-size: .8rem;
    font-weight: 300;
    color: var(--text-secondary);
    line-height: 1.5
}

.bento__card--lg .bento__name {
    font-size: clamp(1.2rem, 2vw, 1.6rem)
}

.bento__card--lg .bento__desc {
    font-size: .9rem
}

/* ── Slide 5: Demo Timer ── */
.demo-timer {
    margin-top: 2rem;
    font-family: var(--font);
    font-size: 1.4rem;
    font-weight: 300;
    color: var(--text-muted);
    letter-spacing: .15em;
    font-variant-numeric: tabular-nums
}

/* ── Slide 6: QR ── */
.qr-placeholder {
    margin-top: 2rem
}

.qr-placeholder__box {
    width: 140px;
    height: 140px;
    border: 1px solid var(--border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: .75rem;
    font-weight: 600;
    letter-spacing: .15em;
    color: var(--text-muted)
}

/* ── Slide Count (bottom right) ── */
.slide-count {
    position: fixed;
    bottom: 1.5rem;
    right: 1.8rem;
    z-index: 100;
    font-size: .7rem;
    font-weight: 500;
    letter-spacing: .12em;
    color: var(--text-muted);
    font-variant-numeric: tabular-nums
}

.slide-count__sep {
    margin: 0 1px;
    opacity: .4
}

#count-current {
    color: var(--text-secondary)
}

/* ── Responsive ── */
@media(max-width:768px) {
    :root {
        --sidebar-w: 36px
    }

    .slide--split {
        grid-template-columns: 1fr;
        gap: 2rem
    }

    .bento {
        grid-template-columns: 1fr 1fr
    }

    .bento__card--lg {
        grid-column: span 2
    }

    .bento__card--md {
        grid-column: span 1
    }

    .bento__card--sm {
        grid-column: span 2
    }

    .slide__visual-morph {
        flex-direction: column
    }

    .morph__arrow svg {
        transform: rotate(90deg)
    }

    .sidebar__dot-tip {
        display: none
    }
}